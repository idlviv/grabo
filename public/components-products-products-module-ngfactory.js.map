{"version":3,"sources":["webpack:///./src/app/components/products/product-details/product-details.component.html","webpack:///./src/app/components/products/product-details/product-details.component.ts","webpack:///./src/app/components/products/products-list/products-list.component.html","webpack:///./src/app/components/products/products-list/products-list.component.ts","webpack:///./src/app/components/products/products-routing.module.ts","webpack:///./src/app/components/products/products.module.ts","webpack:///./src/app/components/shared/shared.module.ts"],"names":[],"mappings":"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","file":"components-products-products-module-ngfactory.js","sourcesContent":["<p>\n  product-details works!\n</p>\n  category_id {{category_id}}\n  product {{product | json}}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ProductService } from '../../../services/product.service';\nimport { CatalogService } from '../../../services/catalog.service';\nimport { mergeMap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-product-details',\n  templateUrl: './product-details.component.html',\n  styleUrls: ['./product-details.component.scss']\n})\nexport class ProductDetailsComponent implements OnInit {\n  category_id: string;\n  product_id: string;\n  product: any; // IProduct\n\n  constructor(\n    private route: ActivatedRoute,\n    private productService: ProductService,\n    private catalogService: CatalogService,\n  ) { }\n\n  ngOnInit() {\n    this.route.paramMap.pipe(\n      mergeMap(paramMap => {\n        this.category_id = paramMap.get('category_id');\n        this.product_id = paramMap.get('product_id');\n        return this.productService.getProductById(this.product_id);\n      })\n    )\n  .subscribe(result => this.product = result.data);\n  }\n\n}\n","<p>\n  products-list works!\n</p>\n\n<div>\n  <a *ngFor=\"let descendant of descendants\" mat-button\n     [routerLink]=\"['/catalog', descendant._id]\"\n     [routerLinkActive]=\"['accent-background']\" [routerLinkActiveOptions]=\"{exact: true}\">\n    {{descendant.name}}\n  </a>\n</div>\n\n<div>\n  <a *ngFor=\"let product of products\" mat-button\n     [routerLink]=\"['/catalog', category_id, 'details', product._id]\"\n     [routerLinkActive]=\"['accent-background']\" [routerLinkActiveOptions]=\"{exact: true}\">\n    {{product.name}}\n  </a>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { mergeMap } from 'rxjs/operators';\nimport { ActivatedRoute } from '@angular/router';\nimport { ProductService } from '../../../services/product.service';\nimport { IProduct } from '../../../interfaces/product-interface';\nimport { CatalogService } from '../../../services/catalog.service';\nimport { ICatalog } from '../../../interfaces/catalog-interface';\nimport { SharedService } from '../../../services/shared.service';\n\n@Component({\n  selector: 'app-products-list',\n  templateUrl: './products-list.component.html',\n  styleUrls: ['./products-list.component.scss']\n})\nexport class ProductsListComponent implements OnInit {\n  products: IProduct[];\n  category_id: string;\n  descendants: string;\n  constructor(\n    private route: ActivatedRoute,\n    private productService: ProductService,\n    private catalogService: CatalogService,\n    private sharedService: SharedService,\n  ) { }\n\n  ngOnInit() {\n    // this.route.paramMap\n    //   .subscribe(\n    //     paramMap => console.log(paramMap.get('category'))\n    //   );\n\n    this.route.paramMap.pipe(\n      mergeMap(paramMap => {\n        this.category_id = paramMap.get('category_id');\n        // if (!this.category) {\n        //   this.category = 'products';\n        // }\n        console.log('this.category_id', this.category_id);\n        return this.catalogService.getDescendants(this.category_id);\n      }),\n      mergeMap(result => {\n        this.descendants = result.data;\n        this.sharedService.sharingEvent(['category_id', this.category_id]);\n\n        if (!this.descendants.length) {\n          // this.sharedService.sharingEvent(['descendants', null]);\n          console.log('NOdescendants', this.descendants);\n          return this.productService.getProductsByCategory(this.category_id);\n        } else {\n          // this.sharedService.sharingEvent(['descendants', this.descendants, 'category', this.category_id]);\n          console.log('YESdescendants', this.descendants);\n          return this.productService.getProductsByCategory(null);\n        }\n      }))\n      .subscribe(\n        products => this.products = products.data,\n        err => console.log('error', err)\n      );\n  }\n\n}\n","import { Routes, RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { ProductsListComponent } from './products-list/products-list.component';\r\nimport { ProductDetailsComponent } from './product-details/product-details.component';\r\n\r\nconst productsRoutes: Routes = [\r\n  {\r\n    path: ':category_id',\r\n    component: ProductsListComponent,\r\n  },\r\n  {\r\n    path: ':category_id/details/:product_id',\r\n    component: ProductDetailsComponent,\r\n  },\r\n  {\r\n    path: '',\r\n    component: ProductsListComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(\r\n      productsRoutes\r\n    )],\r\n  exports: [RouterModule]\r\n})\r\n\r\nexport class ProductsRoutingModule {}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MaterialModule } from '../../material.module';\nimport { CloudinaryModule } from '@cloudinary/angular-5.x';\nimport { SharedModule } from '../shared/shared.module';\nimport { ProductsListComponent } from './products-list/products-list.component';\nimport { ProductsRoutingModule } from './products-routing.module';\nimport { ProductDetailsComponent } from './product-details/product-details.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ProductsRoutingModule,\n    MaterialModule,\n    CloudinaryModule,\n    SharedModule,\n  ],\n  declarations: [ProductsListComponent, ProductDetailsComponent]\n})\nexport class ProductsModule { }\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NavbarComponent } from './navbar/navbar.component';\r\nimport { FooterComponent } from './footer/footer.component';\r\nimport { Page404Component } from './page-404/page-404.component';\r\nimport { MaterialModule } from '../../material.module';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { ProductItemComponent } from './product-item/product-item.component';\r\nimport { MessageComponent } from './message/message.component';\r\nimport { CloudinaryModule } from '@cloudinary/angular-5.x';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ConfirmPopupComponent } from './confirm-popup/confirm-popup.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MaterialModule,\r\n    CloudinaryModule,\r\n    RouterModule\r\n  ],\r\n  exports: [\r\n    NavbarComponent,\r\n    FooterComponent,\r\n    Page404Component,\r\n    HomeComponent,\r\n    MessageComponent,\r\n    ProductItemComponent,\r\n  ],\r\n  declarations: [\r\n    NavbarComponent,\r\n    FooterComponent,\r\n    Page404Component,\r\n    HomeComponent,\r\n    MessageComponent,\r\n    ProductItemComponent,\r\n    ConfirmPopupComponent,\r\n  ],\r\n  // entryComponents: [\r\n  //   ConfirmPopupComponent,\r\n  // ]\r\n})\r\nexport class SharedModule { }\r\n"],"sourceRoot":""}