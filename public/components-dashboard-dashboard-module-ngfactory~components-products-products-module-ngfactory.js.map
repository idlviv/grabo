{"version":3,"sources":["webpack:///./src/app/components/shared/product-item-brief/product-item-brief.component.html","webpack:///./src/app/components/shared/product-item-brief/product-item-brief.component.ts","webpack:///./src/app/services/design.service.ts"],"names":[],"mappings":"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","file":"components-dashboard-dashboard-module-ngfactory~components-products-products-module-ngfactory.js","sourcesContent":["<mat-card>\r\n  <mat-card-content>\r\n    <div class=\"mat-card-wide-image\" fxLayout=\"row\">\r\n      <div *ngIf=\"product\" fxFlex=\"100\">\r\n\r\n        <img *ngIf=\"media.isActive('gt-sm')\" class=\"responsive-image-stretch\" src=\"{{\r\n              config.imgPath +\r\n              config.cloudinary.cloud_name +\r\n              '/c_fill,w_400,h_200,f_auto/' +\r\n              product.briefImage}}\"\r\n             alt=\"Image\">\r\n        <img *ngIf=\"media.isActive('sm')\" class=\"responsive-image-stretch\" src=\"{{\r\n              config.imgPath +\r\n              config.cloudinary.cloud_name +\r\n              '/c_fill,w_460,h_230,f_auto/' +\r\n              product.briefImage}}\"\r\n             alt=\"Image\">\r\n        <img *ngIf=\"media.isActive('xs')\" class=\"responsive-image-stretch\" src=\"{{\r\n            config.imgPath +\r\n            config.cloudinary.cloud_name +\r\n            '/c_fill,w_590,h_295,f_auto/' +\r\n            product.briefImage}}\"\r\n             alt=\"Image\">\r\n      </div>\r\n\r\n      <div *ngIf=\"descendant\" fxFlex=\"100\">\r\n\r\n        <img *ngIf=\"media.isActive('gt-sm')\" class=\"responsive-image-stretch\" src=\"{{\r\n              config.imgPath +\r\n              config.cloudinary.cloud_name +\r\n              '/c_fill,w_400,h_200,f_auto/' +\r\n              descendant.assets[0]}}\"\r\n             alt=\"Image\">\r\n        <img *ngIf=\"media.isActive('sm')\" class=\"responsive-image-stretch\" src=\"{{\r\n              config.imgPath +\r\n              config.cloudinary.cloud_name +\r\n              '/c_fill,w_460,h_230,f_auto/' +\r\n              descendant.assets[0]}}\"\r\n             alt=\"Image\">\r\n        <img *ngIf=\"media.isActive('xs')\" class=\"responsive-image-stretch\" src=\"{{\r\n            config.imgPath +\r\n            config.cloudinary.cloud_name +\r\n            '/c_fill,w_590,h_295,f_auto/' +\r\n            descendant.assets[0]}}\"\r\n             alt=\"Image\">\r\n      </div>\r\n    </div>\r\n\r\n  </mat-card-content>\r\n  <mat-card-actions fxLayout=\"row\">\r\n    <div fxFlex>\r\n      <!--using with catalog, when no subcategories (product level)\r\n      category_id for breadcrumb-->\r\n      <a *ngIf=\"!descendant && category_id\" mat-button\r\n         [routerLink]=\"['/products', 'ch', {outlets: {primary: [category_id, 'details', product._id],\r\n         breadcrumb: [category_id, 'details', product._id]}}]\"\r\n         [queryParams]=\"{name: product.name}\"\r\n         [routerLinkActive]=\"['accent-background']\" [routerLinkActiveOptions]=\"{exact: true}\">\r\n        {{product.name}}\r\n      </a>\r\n      <!--using with dashboard-->\r\n      <a *ngIf=\"!descendant && !category_id\" mat-button\r\n         [routerLink]=\"['/dashboard', 'products_editor_edit', parentCategory_id, parentCategoryName, product._id]\"\r\n         [routerLinkActive]=\"['accent-background']\" [routerLinkActiveOptions]=\"{exact: true}\">\r\n        {{product.name}}\r\n      </a>\r\n      <!--using with catalog, when subcategories present-->\r\n      <a *ngIf=\"descendant\" mat-button\r\n         [routerLink]=\"['/products', 'ch', {outlets: {primary: [descendant._id], breadcrumb: [descendant._id]}}]\"\r\n         [routerLinkActive]=\"['accent-background']\" [routerLinkActiveOptions]=\"{exact: true}\">\r\n        {{descendant.name}}\r\n      </a>\r\n    </div>\r\n  </mat-card-actions>\r\n</mat-card>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { config } from '../../../app.config';\r\nimport { ObservableMedia } from '@angular/flex-layout';\r\n\r\n@Component({\r\n  selector: 'app-product-item-brief',\r\n  templateUrl: './product-item-brief.component.html',\r\n  styleUrls: ['./product-item-brief.component.scss']\r\n})\r\nexport class ProductItemBriefComponent implements OnInit {\r\n  @Input() product;\r\n  @Input() category_id;\r\n  @Input() parentCategory_id;\r\n  @Input() parentCategoryName;\r\n  @Input() descendant;\r\n\r\n  config = config;\r\n\r\n  constructor(\r\n    public media: ObservableMedia,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\n\r\nimport { IResponse } from '../interfaces/server-response-interface';\r\nimport { UserService } from './user.service';\r\nimport { Observable } from 'rxjs/index';\r\nimport { IProduct } from '../interfaces/product-interface';\r\nimport { IDesign } from '../interfaces/interface';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DesignService {\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private userService: UserService,\r\n  ) { }\r\n\r\n  getDesigns() {\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type':  'application/json',\r\n      }),\r\n    };\r\n    return this.http.get<IResponse>(\r\n      'api/design/get-designs',\r\n      httpOptions\r\n    );\r\n  }\r\n\r\n  getDesignById(_id) {\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type':  'application/json',\r\n      }),\r\n    };\r\n    return this.http.get<IResponse>(\r\n      'api/design/get-design-by-id/' + _id,\r\n      httpOptions\r\n    );\r\n  }\r\n\r\n  designAddImage(file, design_id): Observable<IResponse> {\r\n    console.log('file', file);\r\n    const formData: FormData = new FormData();\r\n    formData.append('file', file, file.name);\r\n    formData.append('design_id', design_id);\r\n\r\n    const token = this.userService.userLocalGetToken('token');\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Authorization': token\r\n      })\r\n    };\r\n    return this.http.post<IResponse>(\r\n      'api/design/add-image',\r\n      formData,\r\n      httpOptions\r\n    );\r\n  }\r\n\r\n  designUpsert(design: IDesign): Observable<IResponse> {\r\n    console.log('desUpsert', design);\r\n    const token = this.userService.userLocalGetToken('token');\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type':  'application/json',\r\n        'Authorization': token\r\n      })\r\n    };\r\n    return this.http.post<IResponse>(\r\n      'api/design/upsert',\r\n      design,\r\n      httpOptions\r\n    );\r\n  }\r\n\r\n  designDelete(_id): Observable<IResponse> {\r\n    const token = this.userService.userLocalGetToken('token');\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type':  'application/json',\r\n        'Authorization': token\r\n      })\r\n    };\r\n    return this.http.delete<IResponse>(\r\n      'api/design/delete/' + _id,\r\n      httpOptions\r\n    );\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}